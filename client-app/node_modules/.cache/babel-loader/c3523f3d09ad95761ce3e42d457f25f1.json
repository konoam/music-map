{"ast":null,"code":"import _slicedToArray from\"/Users/noamk/Documents/GitHub/music-map/client-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import fire from'../firebase';import Login from'../components/login';import HeaderNavBar from'../components/headerNavbar';import AdminPage from'./AdminPage';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginPage=function LoginPage(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),emailError=_useState8[0],setEmailError=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),passwordError=_useState10[0],setPasswordError=_useState10[1];var _useState11=useState('false'),_useState12=_slicedToArray(_useState11,2),hasAccount=_useState12[0],setHasAccount=_useState12[1];var clearInputs=function clearInputs(){setEmail('');setUser('');};var clearErrors=function clearErrors(){setEmailError('');setPasswordError('');};var handleLogin=function handleLogin(){clearErrors();fire.auth().signInWithEmailAndPassword(email,password).catch(function(err){switch(err.code){case'auth/invalid-email':case'auth/user-disabled':case'auth/user-not-found':setEmailError(err.message);break;case'auth/wrong-password':setPasswordError(err.message);break;}});};var handleSignup=function handleSignup(){clearErrors();fire.auth().createUserWithEmailAndPassword(email,password).catch(function(err){switch(err.code){case'auth/email-already-in-use':case'auth/invalid-email':setEmailError(err.message);break;case'auth/weak-password':setPasswordError(err.message);break;}});};var handleLogout=function handleLogout(){console.log('enter handle logout in loginpage');clearInputs();fire.auth().signOut();};var authListener=function authListener(){fire.auth().onAuthStateChanged(function(user){if(user){clearInputs();setUser(user);}else{setUser('');}});};useEffect(function(){authListener();},[]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{children:user?/*#__PURE__*/_jsx(AdminPage,{handleAction:handleLogout}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(HeaderNavBar,{handleText:''})}),/*#__PURE__*/_jsx(Login,{email:email,setEmail:setEmail,password:password,setPassword:setPassword,handleLogin:handleLogin,handleSignup:handleSignup,hasAccount:hasAccount,setHasAccount:setHasAccount,emailError:emailError,passwordError:passwordError})]})})});};export default LoginPage;","map":{"version":3,"sources":["/Users/noamk/Documents/GitHub/music-map/client-app/src/pages/LoginPage.jsx"],"names":["React","useState","useEffect","fire","Login","HeaderNavBar","AdminPage","LoginPage","user","setUser","email","setEmail","password","setPassword","emailError","setEmailError","passwordError","setPasswordError","hasAccount","setHasAccount","clearInputs","clearErrors","handleLogin","auth","signInWithEmailAndPassword","catch","err","code","message","handleSignup","createUserWithEmailAndPassword","handleLogout","console","log","signOut","authListener","onAuthStateChanged"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport fire from '../firebase';\nimport Login from '../components/login';\nimport HeaderNavBar from '../components/headerNavbar';\nimport AdminPage from './AdminPage';\n\nconst LoginPage = () => {\n      const [user, setUser] = useState('');\n      const [email, setEmail] = useState('');\n      const [password, setPassword] = useState('');\n      const [emailError, setEmailError] = useState('');\n      const [passwordError, setPasswordError] = useState('');\n      const [hasAccount, setHasAccount] = useState('false');\n\n      const clearInputs = () => {\n            setEmail('');\n            setUser('');\n      };\n      const clearErrors = () => {\n            setEmailError('');\n            setPasswordError('');\n      };\n\n      const handleLogin = () => {\n            clearErrors();\n            fire.auth()\n                  .signInWithEmailAndPassword(email, password)\n                  .catch((err) => {\n                        switch (err.code) {\n                              case 'auth/invalid-email':\n                              case 'auth/user-disabled':\n                              case 'auth/user-not-found':\n                                    setEmailError(err.message);\n                                    break;\n                              case 'auth/wrong-password':\n                                    setPasswordError(err.message);\n                                    break;\n                        }\n                  });\n      };\n\n      const handleSignup = () => {\n            clearErrors();\n            fire.auth()\n                  .createUserWithEmailAndPassword(email, password)\n                  .catch((err) => {\n                        switch (err.code) {\n                              case 'auth/email-already-in-use':\n                              case 'auth/invalid-email':\n                                    setEmailError(err.message);\n                                    break;\n                              case 'auth/weak-password':\n                                    setPasswordError(err.message);\n                                    break;\n                        }\n                  });\n      };\n\n      const handleLogout = () => {\n            console.log('enter handle logout in loginpage');\n            clearInputs();\n            fire.auth().signOut();\n      };\n\n      const authListener = () => {\n            fire.auth().onAuthStateChanged((user) => {\n                  if (user) {\n                        clearInputs();\n                        setUser(user);\n                  } else {\n                        setUser('');\n                  }\n            });\n      };\n\n      useEffect(() => {\n            authListener();\n      }, []);\n\n      return (\n            <div>\n                  <div>\n                        {user ? (\n                              <AdminPage handleAction={handleLogout} />\n                        ) : (\n                              <>\n                                    <header>\n                                          <HeaderNavBar handleText={''} />\n                                    </header>\n                                    <Login\n                                          email={email}\n                                          setEmail={setEmail}\n                                          password={password}\n                                          setPassword={setPassword}\n                                          handleLogin={handleLogin}\n                                          handleSignup={handleSignup}\n                                          hasAccount={hasAccount}\n                                          setHasAccount={setHasAccount}\n                                          emailError={emailError}\n                                          passwordError={passwordError}\n                                    />\n                              </>\n                        )}\n                  </div>\n            </div>\n      );\n};\n\nexport default LoginPage;\n"]},"metadata":{},"sourceType":"module"}