(this["webpackJsonpmusic-app"]=this["webpackJsonpmusic-app"]||[]).push([[0],{110:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(57),r=n.n(s),i=n(16),o=n.n(i),l=n(19),j=n(7),u=n(58),d=n.n(u).a.create({baseURL:"http://localhost:3007/"}),b=n(18),h=n(9),O=n(2),x=function(e){var t=e.handleText,n=e.handleAction;return Object(O.jsxs)("nav",{className:"container",children:[Object(O.jsx)("div",{className:"brandFont",children:Object(O.jsx)("a",{href:"/",children:"Music-Map"})}),Object(O.jsx)("div",{children:function(){switch(t){case"Logout":return Object(O.jsx)("button",{className:"link",onClick:n,children:t});case"Admin":return Object(O.jsx)("button",{children:Object(O.jsx)(b.b,{to:"/login",className:"link",children:t})});case"Back":return Object(O.jsx)("button",{children:Object(O.jsx)(b.b,{to:"/",className:"link",children:t})});default:return null}}()})]})},m=n(20),p=n(30),f=n.p+"static/media/maracas.8efc158d.svg",g=(n(107),function(e){var t=e.locations,n=Object(c.useState)({latitude:-22.9032,longitude:-43.1735,zoom:4,width:"70vw",height:"100vh"}),a=Object(j.a)(n,2),s=a[0],r=a[1],i=Object(c.useState)(null),o=Object(j.a)(i,2),l=o[0],u=o[1];return Object(O.jsx)("div",{children:Object(O.jsxs)(p.c,Object(m.a)(Object(m.a)({},s),{},{mapboxApiAccessToken:"pk.eyJ1Ijoia29ub2FtIiwiYSI6ImNrb3FydTcwczBkYjIydnA2ZmJtNGowZ24ifQ.wwF39UO0PuJRkBXrX0RyKw",mapStyle:"mapbox://styles/konoam/ckotx7iui003j17po1e8tzr99",onViewportChange:function(e){return r(e)},children:[t.map((function(e){return Object(O.jsx)(p.a,{latitude:e.lat,longitude:e.lng,children:Object(O.jsx)("button",{className:"marker-button",onClick:function(t){t.preventDefault(),u(e)},children:Object(O.jsx)("img",{src:f,alt:"location mar"})})},e.id)})),l&&Object(O.jsx)(p.b,{latitude:l.lat,longitude:l.lng,onClose:function(){return u(null)},children:Object(O.jsx)("div",{children:l.name})})]}))})}),v=function(e){var t=e.artists,n=e.selectedArtistsCB;return Object(O.jsxs)("div",{className:"main",children:[Object(O.jsx)("h2",{className:"brandFont",children:"Artists list"}),Object(O.jsx)("nav",{children:t.map((function(e){return Object(O.jsx)("ul",{children:Object(O.jsx)("button",{onClick:function(){return function(e){var t=e.a;n({a:t})}({a:e})},children:Object(O.jsx)(b.b,{className:"link",to:"/artist/".concat(e.id),children:e.name})})},e.id)}))})]})},w=function(e){var t=e.artists,n=e.locations,a=e.selectedArtistsCB,s=e.getInput,r=Object(c.useState)(),i=Object(j.a)(r,2),o=i[0],l=i[1],u=function(e){var t=e.a;console.log("select artists from homepage"),a({a:t})};return Object(O.jsxs)("div",{children:[Object(O.jsxs)("header",{children:[Object(O.jsx)(x,{handleText:"Admin"}),Object(O.jsxs)("div",{className:"searchrow",children:[Object(O.jsx)("label",{className:"input",children:" Search Artist"}),Object(O.jsx)("input",{type:"text",onChange:function(e){return t=e.target.value,console.log("before setState",t,typeof t),l(t||""),console.log("after set state",o,typeof o),s(o);var t}})]})]}),Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("div",{children:Object(O.jsx)(g,{locations:n,selectedArtistsCB:u})}),Object(O.jsx)("div",{children:Object(O.jsx)(v,{artists:t,selectedArtistsCB:u})})]})]})},k=n(62),A=(n(108),k.a.initializeApp({apiKey:"AIzaSyDtHEWPdfTWtk14ZgjWy2qkdL0urT_313E",authDomain:"music-map-ef566.firebaseapp.com",projectId:"music-map-ef566",databaseURL:"https://music-map-ef566.firebaseio.com",storageBucket:"music-map-ef566.appspot.com",messagingSenderId:"693398608160",appId:"1:693398608160:web:52275bd897b4fc6a06df45"})),S=(A.auth(),A),C=(n(110),function(e){var t=e.email,n=e.setEmail,c=e.password,a=e.setPassword,s=e.handleLogin,r=e.handleSignup,i=e.hasAccount,o=e.setHasAccount,l=e.emailError,j=e.passwordError;return Object(O.jsx)("section",{className:"login",children:Object(O.jsxs)("div",{className:"loginContainer",children:[Object(O.jsx)("label",{children:"Email"}),Object(O.jsx)("input",{type:"text",autoFocus:!0,required:!0,value:t,onChange:function(e){return n(e.target.value)}}),Object(O.jsx)("p",{className:"errorMsg",children:l}),Object(O.jsx)("label",{children:"Password"}),Object(O.jsx)("input",{type:"password",autoFocus:!0,required:!0,value:c,onChange:function(e){return a(e.target.value)}}),Object(O.jsx)("p",{className:"errorMsg",children:j}),Object(O.jsx)("div",{className:"btnContainer",children:i?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{onClick:s,children:"Login"}),Object(O.jsxs)("p",{children:["Don't Have an account?"," ",Object(O.jsx)("span",{onClick:function(){return o(!i)},children:"Sign up"})]})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{onClick:r,children:"Sign up"}),Object(O.jsxs)("p",{children:["Have an account?",Object(O.jsx)("span",{onClick:function(){return o(!i)},children:"Sign in"})]})]})})]})})}),N=n(27),y=n(114),E=(n(56),function(e){var t=e.closeAddNewFormCB,n=Object(c.useState)({name:"",type:"",birth_name:"",location:""}),a=Object(j.a)(n,2),s=a[0],r=a[1],i=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.post("/artists",t);case 2:e.sent,console.log("exit");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(e){r(Object(m.a)(Object(m.a)({},s),{},Object(N.a)({},e.target.name,e.target.value)))};return Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{className:"brandFont",children:"new artist"}),Object(O.jsxs)("form",{className:"formContainer",children:[Object(O.jsx)("fieldset",{className:"row",children:Object(O.jsx)("input",{type:"text",name:"name",onChange:u,placeholder:"Enter Artits Name"})}),Object(O.jsxs)("fieldset",{className:"row",children:[Object(O.jsx)("label",{children:"Location"}),Object(O.jsx)("input",{type:"text",name:"location",onChange:u,placeholder:"Enter Artits Location"})]}),Object(O.jsxs)("fieldset",{className:"row",children:[Object(O.jsx)("label",{children:"Genre"}),Object(O.jsx)("input",{type:"text",name:"genre",onChange:u,placeholder:"Enter Artits Genre"})]}),Object(O.jsx)("button",{variant:"primary",type:"submit",onClick:function(e){e.preventDefault();var n=Object(m.a)({id:Object(y.a)()},s);i(n),r({name:"",type:"",birth_name:"",location:""}),t()},children:"Submit"}),Object(O.jsx)("button",{variant:"worning",type:"close",onClick:function(){return t},children:"Cancel"})]})]})}),B=function(e){var t=e.handleAction,n=Object(c.useState)(!1),a=Object(j.a)(n,2),s=a[0],r=a[1];return Object(O.jsxs)("div",{className:"ContainerAdmin",children:[Object(O.jsxs)("header",{children:[Object(O.jsx)(x,{handleText:"Logout",handleAction:t}),Object(O.jsx)("h1",{children:"Admin Page"})]}),Object(O.jsx)("div",{children:s?Object(O.jsx)(E,{closeAddNewFormCB:function(){r(!1)}}):Object(O.jsx)("button",{onClick:function(){return r(!0)},style:{width:"100px"},children:"Create New Artist"})})]})},F=function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),r=Object(j.a)(s,2),i=r[0],o=r[1],l=Object(c.useState)(""),u=Object(j.a)(l,2),d=u[0],b=u[1],h=Object(c.useState)(""),m=Object(j.a)(h,2),p=m[0],f=m[1],g=Object(c.useState)(""),v=Object(j.a)(g,2),w=v[0],k=v[1],A=Object(c.useState)("false"),N=Object(j.a)(A,2),y=N[0],E=N[1],F=function(){o(""),a("")},I=function(){f(""),k("")};return Object(c.useEffect)((function(){S.auth().onAuthStateChanged((function(e){e?(F(),a(e)):a("")}))}),[]),Object(O.jsx)("div",{children:Object(O.jsx)("div",{children:n?Object(O.jsx)(B,{handleAction:function(){console.log("enter handle logout in loginpage"),F(),S.auth().signOut()}}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("header",{children:Object(O.jsx)(x,{handleText:""})}),Object(O.jsx)(C,{email:i,setEmail:o,password:d,setPassword:b,handleLogin:function(){I(),S.auth().signInWithEmailAndPassword(i,d).catch((function(e){switch(e.code){case"auth/invalid-email":case"auth/user-disabled":case"auth/user-not-found":f(e.message);break;case"auth/wrong-password":k(e.message)}}))},handleSignup:function(){I(),S.auth().createUserWithEmailAndPassword(i,d).catch((function(e){switch(e.code){case"auth/email-already-in-use":case"auth/invalid-email":f(e.message);break;case"auth/weak-password":k(e.message)}}))},hasAccount:y,setHasAccount:E,emailError:p,passwordError:w})]})})})},I=function(e){var t=e.artist;return Object(O.jsxs)("div",{style:{width:"18rem"},children:[Object(O.jsx)("img",{variant:"top",src:f}),Object(O.jsxs)("section",{children:[Object(O.jsx)("h2",{children:t.name}),Object(O.jsx)("p",{children:"Some quick example text to build on the card title and make up the bulk of the card's content."}),Object(O.jsx)("button",{variant:"primary",children:"Go somewhere"})]})]})},L=function(){var e=Object(h.e)().id,t=Object(c.useState)({}),n=Object(j.a)(t,2),a=n[0],s=n[1];Object(c.useEffect)((function(){r()}),[]),console.log(e);var r=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.get("/artists/".concat(e)).catch((function(e){return console.log("Error: ",e)}));case 2:(n=t.sent)&&n.data&&(s(n.data),console.log(a));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(O.jsxs)("div",{children:[Object(O.jsx)("header",{children:Object(O.jsx)(x,{handleText:"Back"})}),Object(O.jsx)(I,{artist:a})]})},T=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)([]),r=Object(j.a)(s,2),i=(r[0],r[1]),u=Object(c.useState)([]),x=Object(j.a)(u,2),m=(x[0],x[1],Object(c.useState)([])),p=Object(j.a)(m,2),f=p[0],g=p[1],v=Object(c.useState)([]),k=Object(j.a)(v,2),A=k[0],S=(k[1],Object(c.useState)(n[0])),C=Object(j.a)(S,2),N=(C[0],C[1]),y=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get("/artists").catch((function(e){return console.log("Error: ",e)}));case 2:(t=e.sent)&&t.data&&(a(t.data),g(t.data));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get("/locations").catch((function(e){return console.log("Error: ",e)}));case 2:(t=e.sent)&&t.data&&i(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){y(),E()}),[]);return Object(O.jsxs)("div",{className:"app",children:[Object(O.jsx)(b.a,{children:Object(O.jsxs)("main",{className:"container",children:[Object(O.jsx)(h.a,{exact:!0,path:"/",children:Object(O.jsx)(w,{artists:f,locations:A,selectedArtistsCB:N,getInput:function(e){}})}),Object(O.jsx)(h.a,{exact:!0,path:"/login",children:Object(O.jsx)(F,{})}),Object(O.jsx)(h.a,{exact:!0,path:"/artist/:id",children:Object(O.jsx)(L,{})})]})}),Object(O.jsx)("footer",{className:"footer"}),";"]})};n(111);r.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(T,{})}),document.getElementById("root"))},56:function(e,t,n){}},[[112,1,2]]]);
//# sourceMappingURL=main.3c98cd46.chunk.js.map